/*
 * Name: Daniel Kim
 * Lab: Exercise 13.4
 * Date: 2026-02-03
 */

import java.util.Calendar;

public class Exercise13_04 {
    // Shared calendar instance
    static Calendar calendar = Calendar.getInstance();

    public static void main(String[] args) {
        // Default to current month and year
        int month = calendar.get(Calendar.MONTH) + 1; // January = 0, so +1
        int year = calendar.get(Calendar.YEAR);

        // Handle command-line arguments
        if (args.length > 2) {
            System.out.println("Usage: java Exercise13_04 month year");
            return;
        } else if (args.length == 2) {
            // Use user-defined month and year
            month = Integer.parseInt(args[0]);
            year = Integer.parseInt(args[1]);
        } else if (args.length == 1) {
            // Use user-defined month for current year
            month = Integer.parseInt(args[0]);
        }

        // Set calendar to the 1st day of the specified month/year
        calendar.set(Calendar.YEAR, year);
        calendar.set(Calendar.MONTH, month - 1);
        calendar.set(Calendar.DAY_OF_MONTH, 1);

        // Print the calendar
        printMonth(year, month);
    }

    static void printMonth(int year, int month) {
        // Get the start day of the week (1 = Sunday, 7 = Saturday)
        int startDay = calendar.get(Calendar.DAY_OF_WEEK);
        
        // Get the number of days in the month
        int numOfDaysInMonth = calendar.getActualMaximum(Calendar.DAY_OF_MONTH);

        printMonthTitle(year, month);
        printMonthBody(startDay, numOfDaysInMonth);
    }

    static void printMonthTitle(int year, int month) {
        String[] months = {
            "January", "February", "March", "April", "May", "June",
            "July", "August", "September", "October", "November", "December"
        };
        System.out.println("         " + months[month - 1] + " " + year);
        System.out.println("-----------------------------");
        System.out.println(" Sun Mon Tue Wed Thu Fri Sat");
    }

    static void printMonthBody(int startDay, int numOfDaysInMonth) {
        // Print leading spaces for the first week
        for (int i = 1; i < startDay; i++) {
            System.out.print("    ");
        }

        for (int i = 1; i <= numOfDaysInMonth; i++) {
            System.out.printf("%4d", i);

            // Break to a new line every Saturday (7th day)
            if ((i + startDay - 1) % 7 == 0) {
                System.out.println();
            }
        }
        System.out.println();
    }
}
