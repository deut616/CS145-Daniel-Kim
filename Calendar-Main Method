/*
 * Name: Daniel Kim
 * Lab: Exercise 13.4
 * Date: 2026-02-03
 */

/*
 * Name: Daniel Kim
 * Lab: Exercise 13.4
 * Date: 2026-02-03
 */

public class Exercise13_04 extends MyCalendar {

    // Constructor sets year and month in calendar
    public Exercise13_04(int year, int month) {
        calendar.set(Calendar.YEAR, year);
        calendar.set(Calendar.MONTH, month - 1); // zero-based months
        calendar.set(Calendar.DAY_OF_MONTH, 1);  // set to first day of month
    }

    @Override
    public int daysInMonth() {
        return calendar.getActualMaximum(Calendar.DAY_OF_MONTH);
    }

    @Override
    public String getMonthName() {
        String[] months = {
            "January", "February", "March", "April", "May", "June",
            "July", "August", "September", "October", "November", "December"
        };
        return months[calendar.get(Calendar.MONTH)];
    }

    public static void main(String[] args) {
        // Default to current month/year
        java.util.Calendar now = java.util.Calendar.getInstance();
        int month = now.get(java.util.Calendar.MONTH) + 1;
        int year = now.get(java.util.Calendar.YEAR);

        // Parse command-line args if provided
        if (args.length > 2) {
            System.out.println("Usage: java Exercise13_04 month year");
            return;
        } else if (args.length == 2) {
            month = Integer.parseInt(args[0]);
            year = Integer.parseInt(args[1]);
        } else if (args.length == 1) {
            month = Integer.parseInt(args[0]);
        }

        // Create instance of subclass with requested month/year
        Exercise13_04 cal = new Exercise13_04(year, month);

        printMonth(cal, year, month);
    }

    // Print the calendar header and body using the MyCalendar subclass instance
    static void printMonth(Exercise13_04 cal, int year, int month) {
        int startDay = cal.get(java.util.Calendar.DAY_OF_WEEK);
        int numOfDays = cal.daysInMonth();

        printMonthTitle(cal.getMonthName(), year);
        printMonthBody(startDay, numOfDays);
    }

    static void printMonthTitle(String monthName, int year) {
        System.out.printf("         %s %d%n", monthName, year);
        System.out.println("-----------------------------");
        System.out.println(" Sun Mon Tue Wed Thu Fri Sat");
    }

    static void printMonthBody(int startDay, int numOfDays) {
        // Print initial spaces before first day
        for (int i = 1; i < startDay; i++) {
            System.out.print("    ");
        }

        for (int day = 1; day <= numOfDays; day++) {
            System.out.printf("%4d", day);
            if ((day + startDay - 1) % 7 == 0) {
                System.out.println();
            }
        }
        System.out.println();
    }
}

